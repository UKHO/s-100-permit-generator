parameters:
  - name: AzureSubscription
    type: string

steps:
  # - task: FileTransform@1
  #   displayName: "File Transform: Stub Service Application Settings"
  #   inputs:
  #     folderPath: '$(Pipeline.Workspace)/UKHOS100PermitServiceStubService/*.zip'
  #     fileType: 'json'
  #     targetFiles: '**/appsettings.json'

  # - task: AzureWebApp@1
  #   displayName: "Azure Stub App Deploy"
  #   inputs:
  #     azureSubscription: "${{ parameters.AzureSubscription }}"
  #     appType: webApp
  #     appName: "$(MOCK_WEB_APP_NAME)"
  #     package: "$(Pipeline.Workspace)/UKHOS100PermitServiceStubService/UKHO.S100PermitService.StubService.zip"
           
  - task: AzureWebApp@1
    displayName: "Azure Api App Deploy"
    inputs:
      azureSubscription: "${{ parameters.AzureSubscription }}"
      appType: webApp
      appName: "$(WEB_APP_NAME)"
      package: "$(Pipeline.Workspace)/UKHOS100PermitServiceAPI/UKHOS100PermitServiceAPI.zip"
